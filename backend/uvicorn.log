INFO:     Will watch for changes in these directories: ['/Users/faisalshah/Documents/ragbuilder-fastapi/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [13854] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/main.py", line 4, in <module>
    from app.api.v1.routes import api_router
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/__init__.py", line 5, in <module>
    from app.api.v1.routes.ingest_api import router as ingest_router
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/ingest_api.py", line 6, in <module>
    from app.services.pipeline.service_container import ServiceContainer
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/service_container.py", line 2, in <module>
    from app.services.pipeline.strategy_registry import StrategyRegistry
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/strategy_registry.py", line 13, in <module>
    from app.services.implementations.chunking.semantic_chunker import SemanticChunker
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/implementations/chunking/semantic_chunker.py", line 4, in <module>
    from app.services.pipeline.strategy_registry import StrategyRegistry  # reuse embedder
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: cannot import name 'StrategyRegistry' from partially initialized module 'app.services.pipeline.strategy_registry' (most likely due to a circular import) (/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/strategy_registry.py)
WARNING:  WatchFiles detected changes in 'app/services/pipeline/strategy_registry.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/main.py", line 4, in <module>
    from app.api.v1.routes import api_router
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/__init__.py", line 5, in <module>
    from app.api.v1.routes.ingest_api import router as ingest_router
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/ingest_api.py", line 6, in <module>
    from app.services.pipeline.service_container import ServiceContainer
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/service_container.py", line 2, in <module>
    from app.services.pipeline.strategy_registry import StrategyRegistry
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/strategy_registry.py", line 22, in <module>
    class StrategyRegistry:
    ...<28 lines>...
        }
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/strategy_registry.py", line 33, in StrategyRegistry
    embedders: Dict[str, Type[EmbeddingStrategy]] = {
                         ^^^^
NameError: name 'Type' is not defined. Did you mean: 'type'?
WARNING:  WatchFiles detected changes in 'app/services/pipeline/strategy_registry.py'. Reloading...
INFO:     Started server process [13947]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/pipeline/strategy_registry.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13947]
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/main.py", line 4, in <module>
    from app.api.v1.routes import api_router
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/__init__.py", line 5, in <module>
    from app.api.v1.routes.ingest_api import router as ingest_router
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/ingest_api.py", line 6, in <module>
    from app.services.pipeline.service_container import ServiceContainer
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/service_container.py", line 2, in <module>
    from app.services.pipeline.strategy_registry import StrategyRegistry
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/strategy_registry.py", line 13, in <module>
    from app.services.implementations.chunking.semantic_chunker import SemanticChunker
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/implementations/chunking/semantic_chunker.py", line 4, in <module>
    from app.services.pipeline.strategy_registry import StrategyRegistry  # reuse embedder
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: cannot import name 'StrategyRegistry' from partially initialized module 'app.services.pipeline.strategy_registry' (most likely due to a circular import) (/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/strategy_registry.py)
WARNING:  WatchFiles detected changes in 'app/services/implementations/chunking/semantic_chunker.py'. Reloading...
INFO:     Started server process [13966]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/pipeline/pipeline_builder.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13966]
INFO:     Started server process [13992]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/pipeline/pipeline_builder.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13992]
INFO:     Started server process [13999]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/pipeline/service_container.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13999]
INFO:     Started server process [14095]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/pipeline/service_container.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14095]
INFO:     Started server process [14108]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/implementations/chunking/semantic_chunker.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14108]
INFO:     Started server process [14227]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/implementations/chunking/semantic_chunker.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14227]
INFO:     Started server process [14235]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/interfaces/embedding_strategy.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14235]
INFO:     Started server process [14240]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/implementations/chunking/semantic_chunker.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14240]
INFO:     Started server process [14245]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:50886 - "HEAD /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:50893 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:50893 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/api/v1/routes/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14245]
INFO:     Started server process [14404]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:50959 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:50959 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/api/v1/routes/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14404]
INFO:     Started server process [14418]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:50973 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:50973 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/api/v1/routes/ingest_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14418]
INFO:     Started server process [14533]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/api/v1/routes/ingest_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14533]
INFO:     Started server process [14548]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:51081 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51081 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:51086 - "POST /api/v1/ingest/api/v1/ingest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 289, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/api/v1/routes/ingest_api.py", line 62, in ingest
    count = await PipelineRuntime.ingest(container, req.text, meta)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/pipeline/pipeline_runtime.py", line 33, in ingest
    await container.store.add_embeddings(chunks, embs, metadata_list)
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/app/services/implementations/vectorstore/azure_search_store.py", line 27, in add_embeddings
    r.raise_for_status()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/faisalshah/Documents/ragbuilder-fastapi/backend/venv/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://opragsearch.search.windows.net/indexes/ragdocs/docs/index?api-version=2023-10-01-Preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
WARNING:  WatchFiles detected changes in 'app/api/v1/routes/ingest_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14548]
WARNING:  WatchFiles detected changes in 'app/api/v1/routes/ingest_api.py'. Reloading...
INFO:     Started server process [14577]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Started server process [14579]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:51133 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51133 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
Client error '400 Bad Request' for url 'https://opragsearch.search.windows.net/indexes/ragdocs/docs/index?api-version=2023-10-01-Preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
INFO:     127.0.0.1:51134 - "POST /api/v1/ingest/api/v1/ingest HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14579]
INFO:     Started server process [14603]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14603]
INFO:     Started server process [14610]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14610]
INFO:     Started server process [14742]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14742]
INFO:     Started server process [14775]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14775]
INFO:     Started server process [14907]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14907]
INFO:     Started server process [14914]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14914]
INFO:     Started server process [14919]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14919]
INFO:     Started server process [14924]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14924]
INFO:     Started server process [15077]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15077]
INFO:     Started server process [15082]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15082]
INFO:     Started server process [15220]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15220]
INFO:     Started server process [15225]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15225]
INFO:     Started server process [15355]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15355]
INFO:     Started server process [15360]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15360]
INFO:     Started server process [15365]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15365]
INFO:     Started server process [15366]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15366]
INFO:     Started server process [15505]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15505]
INFO:     Started server process [15510]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15510]
INFO:     Started server process [15515]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15515]
INFO:     Started server process [15520]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15520]
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Started server process [15653]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Started server process [15655]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15655]
INFO:     Started server process [15801]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15801]
INFO:     Started server process [15809]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15809]
INFO:     Started server process [15941]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15941]
INFO:     Started server process [16078]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'tools/create_index.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16078]
INFO:     Started server process [16224]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:51486 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51486 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
Client error '400 Bad Request' for url 'https://opragsearch.search.windows.net/indexes/ragdocs/docs/index?api-version=2023-10-01-Preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
INFO:     127.0.0.1:51487 - "POST /api/v1/ingest/api/v1/ingest HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:51525 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51525 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:51525 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:51525 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51525 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51525 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:51526 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51526 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:51526 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51526 - "GET /api/v1/openapi.json HTTP/1.1" 200 OK
Client error '400 Bad Request' for url 'https://opragsearch.search.windows.net/indexes/ragdocs/docs/index?api-version=2023-10-01-Preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
INFO:     127.0.0.1:51547 - "POST /api/v1/ingest/api/v1/ingest HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/services/implementations/vectorstore/azure_search_store.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16224]
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ffe45000 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'app/services/implementations/vectorstore/azure_search_store.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ffe45000 (most recent call first):
  <no Python frame>
WARNING:  WatchFiles detected changes in 'app/services/pipeline/strategy_registry.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ffe45000 (most recent call first):
  <no Python frame>
INFO:     Stopping reloader process [13854]
